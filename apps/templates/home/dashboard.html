{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="content">
        <div class="row">
            <div class="col-lg-6 col-md-12">
                <div class="card card-chart">
                    <div class="table-responsive" style="padding-left: 50px; padding-right: 50px; padding-top: 10px;">
                        <p style="text-primary">Total Account Value</p>
                        <h1><FONT COLOR = #85bb65>${{ stats["Equity Final [$]"] }}</FONT></h1>
                        <table class="table tablesorter">
                            <tbody>
                            <tr>
                                <td>
                                    Initial Amount
                                </td>
                                <td>
                                    <FONT COLOR = #85bb65>$100000</FONT>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Peak Amount
                                </td>
                                <td>
                                    <FONT COLOR = #85bb65>${{ stats["Equity Peak [$]"] }}</FONT>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Average Annual Returns
                                </td>
                                <td>
                                    <FONT COLOR = #85bb65>{{ stats["Return (Ann.) [%]"] }}%</FONT>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="card card-chart">
                    <div class="table-responsive" style="padding-left: 50px; padding-right: 50px; padding-top: 10px;">
                        <table class="table tablesorter">
                            <tbody>
                            <tr>
                                <td>
                                    Ticker
                                </td>
                                <td>
                                    {{ ticker }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Model
                                </td>
                                <td>
                                    {{ id }}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Optimize
                                </td>
                                <td>
                                    {{ optimize }}
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <br>
                        
                        <form method="POST">
                            <button type="plot-btn" class="btn btn-fill" name="plot-btn" value="plot">Plot</button>
                            <button type="back-btn" class="btn btn-fill" name="back-btn" value="back">Back</button>
                            <!-- <a href="/model-init"><button type="back-btn" class="btn btn-fill btn-primary">Back</button></a> -->
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-2 col-md-12">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Returns %</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Return [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Exposure Time</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Exposure Time [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Sharpe Ratio</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Sharpe Ratio"] }}</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Sortio Ratio</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Sortino Ratio"] }}</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Calmar Ratio</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Calmar Ratio"] }}</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Max. Drawdown</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Max. Drawdown [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Avg. Drawdown</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Avg. Drawdown [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category"># Trades</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["# Trades"] }}</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Win Rate</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Win Rate [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Best Trade</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Best Trade [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Worst Trade</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Worst Trade [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Avg. Trade</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Avg. Trade [%]"] }}%</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">Profit Factor</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["Profit Factor"] }}</h3>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="card card-chart">
                    <div class="card-header">
                        <h1 class="card-category">SQN</h1>
                    </div>
                    <div class="card-body" style="text-align: center;">
                        <h3 class="card-title">{{ stats["SQN"] }}</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-2">
                <div class="card ">
                    <div class="card-header">
                        <h4 class="card-title" style="text-align: center;"> Trading Journal</h4>
                    </div>
                    <div class="card-body">
                        <div style='height: 500px; overflow: auto; -webkit-overflow-scrolling: touch'>
                            {{ stats._trades.to_html(classes=["table table-responsive-md"]) | safe }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script>
    $(document).ready(function () {
        // Javascript method's body can be found in assets/js/demos.js
        demo.initDashboardPageCharts();

    });
</script>

{% endblock javascripts %}
